
@model IEnumerable<THNN.Models.DonDatHang>

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/Layout_admin.cshtml";
}

<main>
    <section class="service_section">
        <div class="container-fluid">

            <h2>Danh sách đơn đặt hàng</h2>

            @*<p>
                    <a href="~/Admin/SanPham/ThemMoiSP">Thêm mới</a>
                </p>*@
            <table class="table">
                <tr>
                    <th>
                        Mã DDH
                    </th>
                    <th>
                        Mã KH
                    </th>
                    <th>
                        Ngày Đặt Hàng
                    </th>
                    <th>
                        Ngày Giao Hàng
                    </th>
                    <th>
                        Tên Người Nhận
                    </th>
                    <th>
                        Địa Chỉ Nhận
                    </th>
                    <th>
                        Số Điện Thoại
                    </th>
                    <th>
                        HT Thanh Toán
                    </th>
                    <th>
                        HT Giao Hàng
                    </th>
                    <th>
                        Trị Giá
                    </th>
                    <th>
                        Tình Trạng
                    </th>
                    <th>Tính năng</th>
                </tr>
                @foreach (var item in Model)
                {
                    DateTime? date = item.NgayDH;
                    string ngayDH = date?.ToString("dd-MM-yyyy");
                    DateTime? date1 = item.NgayGH;
                    string ngayGH = date1?.ToString("dd-MM-yyyy");
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.MaDDH)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.MaKH)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => ngayDH)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => ngayGH)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TenNguoiNhan)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DiaChiNhan)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SDTNhanHang)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.HTThanhToan)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.HTGiaoHang)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TriGia)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TinhTrang)
                        </td>

                        @{
                            if (item.TinhTrang.Equals("Đã đặt hàng"))
                            {
                                <td>
                                    @Html.ActionLink("Tạo hóa đơn", "TaoHD", new { id = item.MaDDH })
                                </td>

                            }
                            else
                            {
                                <td>
                                    @Html.ActionLink("Xem", "XemHD", new { id = item.MaDDH })
                                </td>
                            }
                        }

                    </tr>
                }

            </table>
        </div>
    </section>
</main>
